{"version":3,"sources":["hooks/http.hook.js","hooks/message.hook.js","actions/index.js","pages/LoginPage.js","pages/AdminPage.js","pages/RegistrationPage.js","pages/MainPage.js","App.js","routes.js","reportWebVitals.js","reducers/curentUserReducer.js","reducers/usersListReducer.js","reducers/toolsReducer.js","reducers/index.js","index.js"],"names":["useHttp","useState","loading","setLoading","error","setError","request","useCallback","url","a","method","body","headers","JSON","stringify","fetch","response","json","data","ok","Error","message","clearError","useMessage","text","alert","setAutentificated","payload","type","makeLogin","makeLogout","setUsersList","setUsersMails","deleteUser","blockUser","useStyles","makeStyles","theme","paper","marginTop","display","flexDirection","alignItems","form","width","submit","height","connect","state","curentUser","dispatch","bindActionCreators","actions","classes","formData","setFormData","useEffect","onChangeHandler","e","target","name","value","LoginHandle","login","token","id","Container","component","maxWidth","CssBaseline","className","Typography","variant","noValidate","TextField","margin","required","fullWidth","label","autoComplete","autoFocus","onChange","Button","color","onClick","columns","field","headerName","renderCell","param","logoutbtn","toolbtn","email","users","usersList","usersMails","tools","mailsChangeHandler","el","rowIds","switchOnline","Authorization","getUsers","blockUserHandle","unlockUserHandle","deleteUserHandle","console","log","parse","localStorage","getItem","style","rows","map","i","checkboxSelection","onSelectionChange","Registration","registrationHandle","onChangeHandle","root","spacing","btn","container","minHeight","padding","justifyContent","MainPage","to","routes","path","LoginPage","RegistrationPage","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","initState","userId","logout","isAuthentificated","curentUserReducer","action","setItem","initalState","usersListReducer","toolsReducer","combineReducers","store","createStore","reducers","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.68281f20.chunk.js","sourcesContent":["import { useState, useCallback } from 'react';\r\n\r\nexport const useHttp = () => {\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState(null);\r\n\r\n    const request = useCallback(async (url, method = 'GET', body = null, headers = {}) => {\r\n        setLoading(true)\r\n        try {\r\n            if (body) {\r\n                body = JSON.stringify(body);\r\n                headers['Content-Type'] = 'application/json';\r\n            }\r\n            const response = await fetch(url, { body, method, headers });\r\n            const data = await response.json();\r\n            if (!response.ok)\r\n                throw new Error(data.message || 'Somthing error');\r\n            setLoading(false);\r\n            return data;\r\n        } catch (e) {\r\n            setLoading(false);\r\n            setError(e.message);\r\n            throw e;\r\n        }\r\n    }, []);\r\n    const clearError = useCallback(() => setError(null), []);\r\n    return { loading, request, error, clearError }\r\n}","import { useCallback } from 'react';\r\n\r\nexport const useMessage = () => useCallback(text => {\r\n    if (text) {\r\n        alert(text);\r\n    }\r\n}, [])","export const setAutentificated = (payload) => ({ type: 'SET_AUTENTIFICATED', payload });\r\nexport const makeLogin = (payload) => ({ type: 'LOGIN', payload });\r\nexport const makeLogout = (payload) => ({ type: 'LOGOUT', payload });\r\nexport const setUsersList = (payload) => ({ type: 'SET_USERS_LIST', payload });\r\nexport const setUsersMails = (payload) => ({ type: 'SET_USERS_MAILS', payload });\r\nexport const deleteUser = (payload) => ({ type: 'DELETE_USER', payload });\r\nexport const blockUser = (payload) => ({ type: 'BLOCK_USER', payload });","import {\r\n    TextField,\r\n    Button,\r\n    CssBaseline,\r\n    Typography,\r\n    Container,\r\n} from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { useHttp } from '../hooks/http.hook';\r\nimport { useState, useEffect } from 'react';\r\nimport { useMessage } from '../hooks/message.hook';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../actions'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n        marginTop: 10,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    form: {\r\n        width: '100%',\r\n        marginTop: 1,\r\n    },\r\n    submit: {\r\n        marginTop: 5,\r\n        height: 50\r\n    },\r\n}));\r\n\r\nconst Login = ({curentUser, makeLogin}) => {\r\n    const classes = useStyles();\r\n    const { error, request, clearError } = useHttp();\r\n    const [formData, setFormData] = useState({});\r\n    const message = useMessage();\r\n    useEffect(() => {\r\n        message(error);\r\n        clearError();\r\n    }, [error, message, clearError]);\r\n    \r\n    const onChangeHandler = e => setFormData({ ...formData, [e.target.name]: e.target.value })\r\n    \r\n    const LoginHandle = async () => {\r\n        try {\r\n            const data = await request('api/auth/login', 'POST', { ...formData })\r\n            await makeLogin({...data});\r\n            curentUser.login(data.token, data.id)\r\n        } catch (e) {\r\n\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n            <CssBaseline />\r\n            <div className={classes.paper}>\r\n                <Typography component=\"h1\" variant=\"h5\">\r\n                    Sign in\r\n                </Typography>\r\n\r\n                <form className={classes.form} noValidate>\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        required\r\n                        fullWidth\r\n                        id=\"email\"\r\n                        label=\"Email Address\"\r\n                        name=\"email\"\r\n                        autoComplete=\"email\"\r\n                        autoFocus\r\n                        onChange={onChangeHandler}\r\n                    />\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        required\r\n                        fullWidth\r\n                        name=\"password\"\r\n                        label=\"Password\"\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        autoComplete=\"current-password\"\r\n                        onChange={onChangeHandler}\r\n                    />\r\n                    <Button\r\n                        type=\"button\"\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        className={classes.submit}\r\n                        onClick={LoginHandle}\r\n                    >\r\n                        Log in\r\n                    </Button>\r\n                </form>\r\n            </div>\r\n        </Container>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state)=>{\r\n    return {\r\n        curentUser: state.curentUser\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch)=>{\r\n    const {makeLogin} = bindActionCreators(actions, dispatch)\r\n    return {\r\n        makeLogin: makeLogin\r\n    }\r\n}\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","// import Table from '../components/Table';\r\nimport { Button } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { connect } from 'react-redux';\r\nimport { bindActionCreators } from 'redux';\r\nimport * as actions from '../actions';\r\nimport { useHttp } from '../hooks/http.hook';\r\nimport { useCallback } from 'react';\r\nimport { useEffect } from 'react';\r\nimport { DataGrid } from '@material-ui/data-grid';\r\nimport LockIcon from '@material-ui/icons/Lock';\r\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\r\nimport DeleteSweepIcon from '@material-ui/icons/DeleteSweep';\r\n\r\nconst columns = [\r\n    { field: 'name', headerName: 'Name', width: 150 },\r\n    { field: 'email', headerName: 'Email', width: 250 },\r\n    {\r\n        field: 'status',\r\n        headerName: 'Status',\r\n        width: 230,\r\n        renderCell: (param)=> param.value? 'Online' : 'Offline'\r\n    },\r\n    {\r\n        field: 'isBlocked',\r\n        headerName: 'Is blocked',\r\n        width: 230,\r\n        renderCell: (param) => param.value ? <LockIcon /> : <LockOpenIcon />\r\n    },\r\n    { field: 'regDate', headerName: 'Registration date', width: 230 },\r\n    { field: 'lastLoginDate', headerName: 'Last login date', width: 230 },\r\n\r\n];\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    logoutbtn: {\r\n        width: 200,\r\n        margin: 5,\r\n        // marginLeft: '72%'\r\n    },\r\n    toolbtn: {\r\n        width: 200,\r\n        margin: 5,\r\n        // marginLeft: '72%'\r\n    }\r\n}));\r\n\r\nconst AdminPage = ({ makeLogout, email, token, setUsersList, users, usersMails, setUsersMails }) => {\r\n    const classes = useStyles();\r\n    const { request } = useHttp();\r\n\r\n    const mailsChangeHandler = useCallback(async (el) => {\r\n        await setUsersMails(el.rowIds);\r\n    }, [setUsersMails]);\r\n\r\n    const switchOnline = useCallback(async () => {\r\n        try {\r\n            await makeLogout();\r\n            await request('api/auth/logout', 'POST', { token }, { Authorization: `Bearer ${token}` });\r\n        }\r\n        catch (e) {\r\n        }\r\n    }, [request, makeLogout, email, makeLogout]);\r\n\r\n    const getUsers = useCallback(async () => {\r\n        try {\r\n            const users = await request('/api/usersList', 'GET', null, { Authorization: `Bearer ${token}` });\r\n            await setUsersList(users);\r\n            return users;\r\n        } catch (e) {\r\n            await switchOnline();\r\n        }\r\n    }, [token, request, setUsersList, makeLogout]);\r\n\r\n\r\n    const blockUserHandle = useCallback(async () => {\r\n        try {\r\n            await request('api/usersList/blockUser', 'POST', { usersMails }, { Authorization: `Bearer ${token}` });\r\n            await setUsersList(await request('/api/usersList', 'GET', null, { Authorization: `Bearer ${token}` }));\r\n        }\r\n        catch (e) {\r\n            await switchOnline();\r\n        }\r\n    }, [request, setUsersList, usersMails, token, makeLogout])\r\n\r\n    const unlockUserHandle = useCallback(async () => {\r\n        try {\r\n            await request('api/usersList/unlockUser', 'POST', { usersMails }, { Authorization: `Bearer ${token}` });\r\n            await setUsersList(await request('/api/usersList', 'GET', null, { Authorization: `Bearer ${token}` }));\r\n        }\r\n        catch (e) {\r\n            await switchOnline();\r\n        }\r\n    }, [request, setUsersList, usersMails, token, switchOnline])\r\n\r\n    const deleteUserHandle = useCallback(async () => {\r\n        try {\r\n            // console.log(res, 'result')\r\n            await request('/api/usersList/deleteUser', 'POST', { usersMails }, { Authorization: `Bearer ${token}` })\r\n            await setUsersList(await request('/api/usersList', 'GET', null, { Authorization: `Bearer ${token}` }));\r\n        } catch (e) {\r\n            await switchOnline();\r\n        }\r\n    }, [request, setUsersList, usersMails, token])\r\n\r\n    useEffect(() => {\r\n        console.log(JSON.parse(localStorage.getItem('userData')));\r\n        getUsers();\r\n    }, [getUsers]);\r\n\r\n    return (\r\n        <>\r\n            {/* <Table /> */}\r\n            <div style={{ height: 600, width: '100%' }}>\r\n                <DataGrid rows={users.map((el, i) => ({ ...el, id: i + 1 }))}\r\n                    columns={columns}\r\n                    checkboxSelection\r\n                    onSelectionChange={mailsChangeHandler}\r\n                />\r\n            </div>\r\n            <Button\r\n                className={classes.toolbtn}\r\n                variant='contained'\r\n                color='primary'\r\n                onClick={blockUserHandle}\r\n            >\r\n                <LockIcon />\r\n            </Button>\r\n            <Button\r\n                className={classes.toolbtn}\r\n                variant='outlined'\r\n                color='primary'\r\n                onClick={unlockUserHandle}\r\n            >\r\n                <LockOpenIcon />\r\n            </Button>\r\n            <Button\r\n                className={classes.toolbtn}\r\n                variant='contained'\r\n                color='secondary'\r\n                onClick={deleteUserHandle}\r\n            >\r\n                <DeleteSweepIcon />\r\n            </Button>\r\n            <Button\r\n                className={classes.logoutbtn}\r\n                variant='contained'\r\n                color='secondary'\r\n                onClick={switchOnline}>\r\n                Log out\r\n            </Button>\r\n        </>\r\n    );\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        token: state.curentUser.token,\r\n        curentUser: state.curentUser,\r\n        email: state.curentUser.id,\r\n        users: state.usersList,\r\n        usersMails: state.tools\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    const { makeLogout, setUsersList, setUsersMails } = bindActionCreators(actions, dispatch)\r\n    return {\r\n        makeLogout,\r\n        setUsersList,\r\n        setUsersMails\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AdminPage);","import React, { useState } from 'react';\r\nimport {\r\n    TextField,\r\n    Button,\r\n    CssBaseline,\r\n    Typography,\r\n    Container,\r\n} from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { useHttp } from '../hooks/http.hook';\r\nimport { useEffect } from 'react';\r\nimport { useMessage } from '../hooks/message.hook';\r\nimport { useCallback } from 'react';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n        marginTop: 10,\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    form: {\r\n        width: '100%',\r\n        marginTop: 1,\r\n    },\r\n    submit: {\r\n        marginTop: 5,\r\n        height: 50\r\n    },\r\n}));\r\nconst Registration = () => {\r\n    const { error, request, clearError } = useHttp();\r\n    const [formData, setFormData] = useState();\r\n    const message = useMessage();\r\n\r\n\r\n    useEffect(() => {\r\n        message(error);\r\n        clearError();\r\n    }, [error, message, clearError]);\r\n\r\n    const registrationHandle = useCallback(async () => {\r\n        try {\r\n            console.log({ ...formData });\r\n            const data = await request('/api/auth/registrations', 'POST', { ...formData })\r\n            message(data.message)\r\n        } catch (e) { }\r\n    }, [message, formData, request])\r\n    const onChangeHandle = e => setFormData({ ...formData, [e.target.name]: e.target.value })\r\n    const classes = useStyles();\r\n    return (\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n            <CssBaseline />\r\n            <div className={classes.paper}>\r\n                <Typography component=\"h1\" variant=\"h5\">\r\n                    Sign Up\r\n            </Typography>\r\n                <form className={classes.form} noValidate>\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        required\r\n                        fullWidth\r\n                        id=\"name\"\r\n                        label=\"Name\"\r\n                        name=\"name\"\r\n                        autoFocus\r\n                        onChange={onChangeHandle}\r\n                    />\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        required\r\n                        fullWidth\r\n                        id=\"email\"\r\n                        label=\"Email Address\"\r\n                        name=\"email\"\r\n                        autoComplete=\"email\"\r\n                        autoFocus\r\n                        onChange={onChangeHandle}\r\n                    />\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        required\r\n                        fullWidth\r\n                        name=\"password\"\r\n                        label=\"Password\"\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        onChange={onChangeHandle}\r\n                    />\r\n                    <Button\r\n                        type=\"button\"\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        className={classes.submit}\r\n                        onClick={registrationHandle}\r\n                    >\r\n                        Sign Up\r\n                </Button>\r\n                </form>\r\n            </div>\r\n        </Container>\r\n    );\r\n}\r\nexport default Registration;","import { Button } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    '& > *': {\r\n      margin: theme.spacing(1),\r\n    },\r\n  },\r\n  btn:{\r\n    margin: 3,\r\n    height: 50,\r\n    width: 300,\r\n  },\r\n  container : {\r\n    minHeight: '100vh',\r\n    padding: '0 0.5rem',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    alignItems: 'center'\r\n  }\r\n  \r\n}));\r\n\r\n\r\n const MainPage = () => {\r\n  const classes = useStyles();\r\n  return (\r\n    <div className={classes.container}>\r\n        \r\n      <Link to=\"/login\">\r\n        <Button className={classes.btn} color='primary' variant='contained'>Login</Button>\r\n      </Link>\r\n      <Link to=\"/registration\">\r\n        <Button className={classes.btn} color='primary' variant='contained'>Sign up</Button>\r\n      </Link>\r\n\r\n    </div>\r\n  )\r\n}\r\nexport default MainPage;","import React, { useEffect } from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom'\nimport { useRoutes } from './routes';\nimport { connect } from 'react-redux'\nimport { bindActionCreators } from 'redux';\nimport * as actions from './actions'\n\nfunction App({ curentUser, setAutentificated, makeLogin }) {\n  // const auth = useAuth()\n  useEffect(() => {\n    const data = JSON.parse(localStorage.getItem('userData'))\n\n    if (data && data.token) {\n      makeLogin(data);\n    }\n  }, [makeLogin]);\n  const isAuthentificated = !!curentUser.token;\n  const routes = useRoutes(isAuthentificated);\n  return (\n    <Router>\n      <div className=\"App\">\n        {routes}\n      </div>\n    </Router>\n  );\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    curentUser: state.curentUser\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  const { setAutentificated, makeLogin } = bindActionCreators(actions, dispatch)\n  return {\n    setAutentificated, makeLogin\n  }\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","import React from 'react';\r\nimport { Switch, Route, Redirect } from 'react-router-dom';\r\nimport LoginPage from './pages/LoginPage';\r\nimport AdminPage from './pages/AdminPage';\r\nimport RegistrationPage from './pages/RegistrationPage';\r\nimport MainPage from './pages/MainPage';\r\nexport const useRoutes = isAutentificated => {\r\n    if (isAutentificated) {\r\n        return (\r\n            <Switch>\r\n                <Route path='/Admin'>\r\n                    <AdminPage />\r\n                </Route>\r\n                <Route path='/'>\r\n                    <Redirect to='/Admin' />\r\n                </Route>\r\n                <Redirect to='/Admin' />\r\n            </Switch>\r\n        )\r\n    }\r\n    else\r\n    return (\r\n        <Switch>\r\n            <Route path='/Login'>\r\n                <LoginPage></LoginPage>\r\n            </Route>\r\n            <Route path='/Registration'>\r\n                <RegistrationPage></RegistrationPage>\r\n            </Route>\r\n            <Route path='/'>\r\n                <MainPage />\r\n            </Route>\r\n            <Redirect to='/' />\r\n        </Switch>\r\n    )\r\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const initState = {\r\n    userId: null,\r\n    token: null,\r\n    login: ()=>{},\r\n    logout: () => { },\r\n    isAuthentificated: false,\r\n}\r\n\r\nconst curentUserReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n   \r\n        case 'LOGIN': {\r\n            const { token, id } = action.payload;\r\n            localStorage.setItem('userData', JSON.stringify({token: token, userId: id}));\r\n            return { ...state, token: token, userId: id, isAuthentificated: !!token }\r\n        }\r\n        case 'LOGOUT': {\r\n            localStorage.setItem('userData', JSON.stringify({ userId: null, token: null }))\r\n            return { ...state, userId: null, token: null, }\r\n        }\r\n        default: return state;\r\n    }\r\n}\r\n\r\nexport default curentUserReducer;","const initalState = [];\r\n\r\nconst usersListReducer = (state = initalState, action) => {\r\n    switch (action.type) {\r\n        case 'SET_USERS_LIST':\r\n            console.log(...action.payload);\r\n            return [...action.payload];\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport default usersListReducer;\r\n","const initalState = [];\r\n\r\n\r\nconst toolsReducer = (state = initalState, action) => {\r\n    switch (action.type) {\r\n        case 'SET_USERS_MAILS':\r\n            console.log(action.payload)\r\n            return [...action.payload];\r\n        case 'DELETE_USER':\r\n            return [...action.payload];\r\n        case 'BLOCK_USER':\r\n            return [...action.payload];\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\nexport default toolsReducer;","import { combineReducers } from 'redux';\r\nimport curentUser from './curentUserReducer';\r\nimport usersList from './usersListReducer';\r\nimport tools from './toolsReducer';\r\n\r\nexport default combineReducers({\r\n    curentUser,\r\n    usersList,\r\n    tools\r\n})","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { createStore } from 'redux';\nimport reducers from './reducers';\nimport {Provider} from 'react-redux';\n\nconst store = createStore(reducers)\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}